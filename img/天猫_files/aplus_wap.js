/* v6.8.8 2016-10-13 15:24:07 */
!function e(t,n,a){function r(i,s){if(!n[i]){if(!t[i]){var c="function"==typeof require&&require;if(!s&&c)return c(i,!0);if(o)return o(i,!0);throw new Error("Cannot find module '"+i+"'")}var l=n[i]={exports:{}};t[i][0].call(l.exports,function(e){var n=t[i][1][e];return r(n?n:e)},l,l.exports,e,t,n,a)}return n[i].exports}for(var o="function"==typeof require&&require,i=0;i<a.length;i++)r(a[i]);return r}({1:[function(require,module,exports){!function(){function isStartWith(e,t){return 0===e.indexOf(t)}function isEndWith(e,t){var n=e.length,a=t.length;return n>=a&&e.indexOf(t)==n-a}function trim(e){return isString(e)?e.replace(/^\s+|\s+$/g,""):""}function tryToDecodeURIComponent(e,t){var n=t||"";if(e)try{n=decodeURIComponent(e)}catch(a){}return n}function obj2param(e){var t,n,a=[];for(t in e)e.hasOwnProperty(t)&&(n=""+e[t],a.push(isStartWith(t,s_plain_obj)?n:t+"="+encodeURIComponent(n)));return a.join("&")}function param2arr(e){for(var t,n=e.split("&"),a=0,r=n.length,o=[];a<r;a++)t=n[a].split("="),o.push([t.shift(),t.join("=")]);return o}function arr2param(e){var t,n,a,r=[],o=e.length;for(a=0;a<o;a++)t=e[a][0],n=e[a][1],r.push(isStartWith(t,s_plain_obj)?n:t+"="+encodeURIComponent(n));return r.join("&")}function isContain(e,t){return e.indexOf(t)>-1}function isNumber(e){return"number"==typeof e}function isUnDefined(e){return"undefined"==typeof e}function isString(e){return"string"==typeof e}function isArray(e){return"[object Array]"===Object.prototype.toString.call(e)}function tryToGetAttribute(e,t){return e&&e.getAttribute?e.getAttribute(t)||"":""}function tryToGetHref(e){var t;try{t=trim(e.getAttribute("href",2))}catch(n){}return t||""}function processExParamsPageId(e){var t=e;try{for(;tempPageId.length<42;)tempPageId+=util.rndInt32();window.dmtrack_pageid=st_page_id=tempPageId.substr(0,42),t=e.replace(/st_page_id=([^&]+)/,"st_page_id="+st_page_id)}catch(n){t=e}finally{return t}}function getExParams(){var e=doc.getElementById("tb-beacon-aplus"),t=tryToGetAttribute(e,"exparams").replace(/&amp;/g,"&").replace(/\buserid=/,"uidaplus=");return processExParamsPageId(t)}function getMetaTags(){return _head_node=_head_node||doc.getElementsByTagName("head")[0],_meta_nodes||(_head_node?_meta_nodes=_head_node.getElementsByTagName("meta"):[])}function parseMetaContent(e,t){var n,a,r,o=e.split(";"),i=o.length;for(n=0;n<i;n++)a=o[n].split("="),r=trim(a[0]),r&&(t[r]=tryToDecodeURIComponent(trim(a[1])))}function getCookie(e){var t=doc.cookie.match(new RegExp("\\b"+e+"=([^;]+)"));return t?t[1]:""}function getSPMFromUrl(e){var t,n=e.match(new RegExp("\\?.*spm=([\\w\\.\\-\\*/]+)"));return n&&(t=n[1])&&4==t.split(".").length?t:null}function makeCacheNum(){return Math.floor(268435456*Math.random()).toString(16)}function makePVId(){for(var e="",t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";e.length<6;)e+=t.substr(Math.floor(62*Math.random()),1);return win[s_pv_id_key]=e,e}function getMetaAtpData(){var e,t,n,a=getMetaTags(),r=a.length;for(e=0;e<r;e++)t=a[e],"atp-beacon"==tryToGetAttribute(t,"name")&&(n=tryToGetAttribute(t,"content"),parseMetaContent(n,_atp_beacon_data));_atp_beacon_data_params=obj2param(_atp_beacon_data)}function getMetaWaiting(){return util.getMetaCnt("aplus-waiting")}function isOnePage(){return util.getMetaCnt("isonepage")||"-1"}function makeChkSum(e){e=(e||"").split("#")[0].split("?")[0];var t=e.length,n=function(e){var t,n=e.length,a=0;for(t=0;t<n;t++)a=31*a+e.charCodeAt(t);return a};return t?n(t+"#"+e.charCodeAt(t-1)):-1}function onDOMReady(e){var t=win.KISSY;t?t.ready(e):win.jQuery?jQuery(doc).ready(e):"complete"===doc.readyState?e():addEventListener(win,"load",e)}function recordValInWindowName(){var e,t;!is_in_iframe&&is_https&&(is_login_page&&page_referrer?(e=page_referrer,t=nameStorage.getItem(KEY.NAME_STORAGE.REFERRER_PV_ID)):(e=page_url,t=pvid),nameStorage.setItem(KEY.NAME_STORAGE.REFERRER,e),nameStorage.setItem(KEY.NAME_STORAGE.REFERRER_PV_ID,t))}function addEventListener(e,t,n){e[onevent]((atta?"on":"")+t,function(e){e=e||win.event;var t=e.target||e.srcElement;n(e,t)},s_false)}function atp_inIframeException(){var e,t,n=[];for(e=0,t=n.length;e<t;e++)if(pathname.indexOf(n[e])!=-1)return s_true;var a=/^https?:\/\/[\w\.]+\.(taobao|tmall|etao|tao123|juhuasuan)\.com/i;return!a.test(page_referrer)}function cleanParams(e){var t,n,a,r,o=[],i={};for(t=e.length-1;t>=0;t--)n=e[t],a=n[0],a!=s_plain_obj&&i.hasOwnProperty(a)||(r=n[1],("aplus"==a||r||0===r)&&(o.unshift([a,r]),i[a]=1));return o}function cleanParamsForWindvane(e){var t,n,a,r,o=[],i={logtype:!0,cache:!0,scr:!0,"spm-cnt":!0};for(t=e.length-1;t>=0;t--)if(n=e[t],a=n[0],r=n[1],!(isStartWith(a,s_plain_obj)&&!isStartWith(a,mkPlainKeyForExparams())||i[a]))if(isStartWith(a,mkPlainKeyForExparams())){var s=param2arr(r);if("object"==typeof s&&s.length>0)for(var c=s.length-1;c>=0;c--){var l=s[c];l&&l[1]&&o.unshift([l[0],l[1]])}}else o.unshift([a,r]);return o}function tblogSend(e,t){var n;if(t){if(t=cleanParams(t),isWindVane){n=cleanParamsForWindvane(t);var a,r={},o=getSPMFromUrl(page_referrer),i=isOnePage(),s=i.split("|"),c=s[0],l=s[1]?s[1]:"";try{var u=util.arr2obj(n);a=JSON.stringify(u),"{}"==a&&(a="")}catch(p){a=""}if(r.functype="2001",r.urlpagename=l,r.url=loc.href,r.spmcnt=(spm_ab||"0.0")+".0.0",r.spmpre=o||"",r.lzsid="",r.cna=acookie_cna||"",r.extendargs=a,r.isonepage=c,WindVane.call("WVTBUserTrack","toUT",r),win[s_goldlog].windVaneData=r,is_ali_app_tb&&hostname.indexOf("market.m.taobao.com")!=-1)return;if(hostname.indexOf("tmall.com")!=-1)return}return win._ua_popLayer&&t.push(["ispop",1]),goldlog.send(e,t)}}function mkPlainKey(){return s_plain_obj+Math.random()}function mkPlainKeyForExparams(){return s_plain_obj+"exparams"}function addScript(e,t){var n="script",a=doc.createElement(n);a.type="text/javascript",a.async=!0,a.src=is_https?t||e:e;var r=doc.getElementsByTagName(n)[0];r.parentNode.insertBefore(a,r)}function getSPMProtocolFromMeta(){var e,t,n,a,r=getMetaTags();for(e=0,t=r.length;e<t;e++)n=r[e],a=tryToGetAttribute(n,"name"),a==s_SPM_ATTR_NAME&&(spm_protocol=tryToGetAttribute(n,s_SPM_DATA_PROTOCOL))}function getMetaSPMData(e){var t,n,a,r,o,i,s=getMetaTags();if(s)for(t=0,n=s.length;t<n;t++)if(r=s[t],o=tryToGetAttribute(r,"name"),o==e)return page_global_spm_id_origin=tryToGetAttribute(r,"content"),page_global_spm_id_origin.indexOf(":")>=0&&(a=page_global_spm_id_origin.split(":"),spm_protocol="i"==a[0]?"i":"u",page_global_spm_id_origin=a[1]),i=tryToGetAttribute(r,s_SPM_DATA_PROTOCOL),i&&(spm_protocol="i"==i?"i":"u"),spm_ab=page_global_spm_id_origin,s_true;return s_false}function ifAdd(e,t){var n,a,r,o,i=t.length;for(n=0;n<i;n++)a=t[n],r=a[0],o=a[1],o&&e.push([r,o])}function compareVersion(e,t){e=e.toString().split("."),t=t.toString().split(".");for(var n=0;n<e.length||n<t.length;n++){var a=parseInt(e[n],10),r=parseInt(t[n],10);if(window.isNaN(a)&&(a=0),window.isNaN(r)&&(r=0),a<r)return-1;if(a>r)return 1}return 0}function callback(e,t){isAndroid&&compareVersion(osVersion,"2.4.0")<0?setTimeout(function(){e&&e(t)},1):e&&e(t)}function init_getGlobalSPMId(){if(!isUnDefined(spm_ab))return spm_ab;if(spm_a&&spm_b)return spm_a=spm_a.replace(/^{(\w+)}$/g,"$1"),spm_b=spm_b.replace(/^{(\w+)}$/g,"$1"),wh_in_page=s_true,spm_ab=spm_a+"."+spm_b,getSPMProtocolFromMeta(),goldlog.spm_ab=[spm_a,spm_b],spm_ab;var e;if(getMetaSPMData(s_SPM_ATTR_NAME)||getMetaSPMData("spm-id"),spm_ab=spm_ab||default_ab,!spm_ab)return spm_ab;var t,n=doc.getElementsByTagName("body");return e=spm_ab.split("."),goldlog.spm_ab=e,n=n&&n.length?n[0]:null,n&&(t=tryToGetAttribute(n,s_SPM_ATTR_NAME),t?(spm_ab=e[0]+"."+t,goldlog.spm_ab=[e[0],t]):1==e.length&&(spm_ab=default_ab)),spm_ab}function init_loadScripts(){var e=(new Date).getTime(),t=Math.floor(e/72e5),n="laiwang",a="/ilw/a/lwlog.js?v=140709";isContain(loc.href.split("?")[0],n)&&addScript(url_alicdn+a),onDOMReady(function(){is_ali_app||setTimeout(function(){var e=url_alicdn+"/pecdn/mlog/agp_heat_mu.min.js?t="+t;addScript(e)},200),setTimeout(function(){var e=doc.getElementById("aplus-sufei");e&&"script"==e.tagName.toLowerCase()||addScript("//g.alicdn.com/secdev/entry/index.js")},1e3)})}function init_windVane(){var WV_Core={call:function(e,t,n,a,r,o){var i,s;if(lib.promise&&(s=lib.promise.deferred()),i=o>0?setTimeout(function(){WV_Core.onFailure(i,{ret:"TIMEOUT"})},o):WV_Private.getSid(),n.sid=i,WV_Private.registerCall(i,a,r,s),isAndroid?compareVersion(wvVersion,"2.7.0")>=0?WV_Private.callMethodByPrompt(e,t,WV_Private.buildParam(n),i+""):WindVane_Native&&WindVane_Native.callMethod&&WindVane_Native.callMethod(e,t,WV_Private.buildParam(n),i+""):isIOS&&WV_Private.callMethodByIframe(e,t,WV_Private.buildParam(n),i+""),s)return s.promise()},fireEvent:function(e,t){var n=doc.createEvent("HTMLEvents");n.initEvent(e,!1,!0),n.param=WV_Private.parseParam(t),doc.dispatchEvent(n)},getParam:function(e){return WV_Private.params[PARAM_PREFIX+e]||""},onSuccess:function(e,t){clearTimeout(e);var n=WV_Private.unregisterCall(e),a=n.success,r=n.deferred,o=WV_Private.parseParam(t);callback(function(e){a&&a(e),r&&r.resolve(e)},o.value||o),WV_Private.onComplete(e)},onFailure:function(e,t){clearTimeout(e);var n=WV_Private.unregisterCall(e),a=n.failure,r=n.deferred,o=WV_Private.parseParam(t);callback(function(e){a&&a(e),r&&r.reject(e)},o),WV_Private.onComplete(e)}},WV_Private={params:{},buildParam:function(e){return e&&"object"==typeof e?JSON.stringify(e):e||""},parseParam:function(str){var obj;if(str&&"string"==typeof str)try{obj=JSON.parse(str)}catch(e){obj=eval("("+str+")")}else obj=str||{};return obj},getSid:function(){return Math.floor(Math.random()*(1<<50))+""+inc++},registerCall:function(e,t,n,a){t&&(callbackMap[SUCCESS_PREFIX+e]=t),n&&(callbackMap[FAILURE_PREFIX+e]=n),a&&(callbackMap[DEFERRED_PREFIX+e]=a)},unregisterCall:function(e){var t=SUCCESS_PREFIX+e,n=FAILURE_PREFIX+e,a=DEFERRED_PREFIX+e,r={success:callbackMap[t],failure:callbackMap[n],deferred:callbackMap[a]};return delete callbackMap[t],delete callbackMap[n],r.deferred&&delete callbackMap[a],r},useIframe:function(e,t){var n=IFRAME_PREFIX+e,a=iframePool.pop();a||(a=doc.createElement("iframe"),a.setAttribute("frameborder","0"),a.style.cssText="width:0;height:0;border:0;display:none;"),a.setAttribute("id",n),a.setAttribute("src",t),a.parentNode||setTimeout(function(){doc.body.appendChild(a)},5)},retrieveIframe:function(e){var t=IFRAME_PREFIX+e,n=doc.querySelector("#"+t);iframePool.length>=iframeLimit?doc.body.removeChild(n):iframePool.push(n)},callMethodByIframe:function(e,t,n,a){var r={"selfParam=1":1,sid:this.parseParam(n).sid};r=this.buildParam(r);var o=LOCAL_PROTOCOL+"://"+e+":"+a+"/"+t+"?"+r;this.params[PARAM_PREFIX+a]=n,this.useIframe(a,o)},callMethodByPrompt:function(e,t,n,a){var r=LOCAL_PROTOCOL+"://"+e+":"+a+"/"+t+"?"+n,o=WV_PROTOCOL+":";this.params[PARAM_PREFIX+a]=n,window.prompt(r,o)},onComplete:function(e){isIOS&&this.retrieveIframe(e),delete this.params[PARAM_PREFIX+e]}};for(var key in WV_Core)win[s_goldlog][key]=WindVane[key]=WV_Core[key]}var script_name="aplus_wap",win=window,doc=document,_k="g_tb_aplus_loaded",_launch="g_tb_aplus_launch";if(!doc.getElementsByTagName("body").length)return void setTimeout(arguments.callee,50);if(!win[_k]){win[_k]=1;var personality=require("./lib/personality/index.js"),windvaneParams=personality.windvaneParams,util=require("./lib/util"),url_alicdn="//g.alicdn.com",s_goldlog="goldlog",goldlog=win[s_goldlog]||{};win[s_goldlog]=goldlog;var KEY={NAME_STORAGE:{REFERRER:"wm_referrer",REFERRER_PV_ID:"refer_pv_id"}},VERSION="9",loc=location,is_https="https:"==loc.protocol,is_in_iframe=parent!==win.self,pathname=loc.pathname,hostname=loc.hostname,use_protocol=is_https?"https://":"http://",tblog_beacon_base=use_protocol+"log.mmstat.com/",tblog_beacon_url=tblog_beacon_base+"m.gif",tblog_data=[["logtype",is_in_iframe?0:1]],page_url=loc.href,page_url_constant=page_url.replace(/[\?#].*/g,""),s_pv_id_key="g_aplus_pv_id",pvid=makePVId(),loc_hash=loc.hash,ua=navigator.userAgent,lib=win.lib||(win.lib={}),isIOS=/iPhone|iPad|iPod/i.test(ua),isAndroid=/Android/i.test(ua),isWindVane=/WindVane/i.test(ua),osVersion=ua.match(/(?:OS|Android)[\/\s](\d+[._]\d+(?:[._]\d+)?)/i),wvVersion=ua.match(/WindVane[\/\s](\d+[._]\d+[._]\d+)/),WindVane={},WindVane_Native=win.WindVane_Native,callbackMap={},inc=1,iframePool=[],iframeLimit=3,LOCAL_PROTOCOL="hybrid",WV_PROTOCOL="wv_hybrid",IFRAME_PREFIX="iframe_",SUCCESS_PREFIX="suc_",FAILURE_PREFIX="err_",DEFERRED_PREFIX="defer_",PARAM_PREFIX="param_",page_referrer=doc.referrer,is_login_page=is_https&&(page_url.indexOf("login.m.taobao.com")>=0||page_url.indexOf("login.m.tmall.com")>=0),atta=!!doc.attachEvent,s_attachEvent="attachEvent",s_addEventListener="addEventListener",onevent=atta?s_attachEvent:s_addEventListener,s_false=!1,s_true=!0,s_plain_obj="::-plain-::",_head_node,_meta_nodes,acookie_cna=getCookie("cna"),cookie_unb=getCookie("unb"),s_SPM_ATTR_NAME="data-spm",s_SPM_DATA_PROTOCOL="data-spm-protocol",wh_in_page=s_false,default_ab="0.0",page_global_spm_id_origin,spm_protocol,spm_a=win._SPM_a,spm_b=win._SPM_b,spm_ab,_microscope_data={},_atp_beacon_data={},_atp_beacon_data_params,waitingMeta=getMetaWaiting(),m_log=require("./lib/log"),is_ali_app,is_ali_app_tb,matched;(matched=ua.match(/AliApp\(([A-Z\-]+)\/([\d\.]+)\)/i))&&(is_ali_app=!0,is_ali_app_tb="TB"==matched[1]);var Tracker=require("./lib/monitor/tracker.js"),tracker=new Tracker({ratio:5,logkey:"/aplus.99.4",chksum:"H46747616"}),nameStorage=function(){function e(){var e,t=[],o=!0;for(var u in p)p.hasOwnProperty(u)&&(o=!1,e=p[u]||"",t.push(l(u)+s+l(e)));n.name=o?a:r+l(a)+i+t.join(c)}function t(e,t,n){e&&(e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,function(t){n.call(e,t)}))}var n=window;if(n.nameStorage)return n.nameStorage;var a,r="nameStorage:",o=/^([^=]+)(?:=(.*))?$/,i="?",s="=",c="&",l=encodeURIComponent,u=decodeURIComponent,p={},d={};return function(e){if(e&&0===e.indexOf(r)){var t=e.split(/[:?]/);t.shift(),a=u(t.shift())||"";for(var n,i,s,l=t.join(""),d=l.split(c),g=0,m=d.length;g<m;g++)n=d[g].match(o),n&&n[1]&&(i=u(n[1]),s=u(n[2])||"",p[i]=s)}else a=e||""}(n.name),d.setItem=function(t,n){t&&"undefined"!=typeof n&&(p[t]=String(n),e())},d.getItem=function(e){return p.hasOwnProperty(e)?p[e]:null},d.removeItem=function(t){p.hasOwnProperty(t)&&(p[t]=null,delete p[t],e())},d.clear=function(){p={},e()},d.valueOf=function(){return p},d.toString=function(){var e=n.name;return 0===e.indexOf(r)?e:r+e},t(n,"beforeunload",function(){e()}),d}();page_referrer=doc.referrer||nameStorage.getItem(KEY.NAME_STORAGE.REFERRER)||"",osVersion=osVersion?(osVersion[1]||"0.0.0").replace(/\_/g,"."):"0.0.0",wvVersion=wvVersion?(wvVersion[1]||"0.0.0").replace(/\_/g,"."):"0.0.0",goldlog.is_wap=1,goldlog.version=VERSION,goldlog.referrer=page_referrer,goldlog._d={},goldlog._microscope_data=_microscope_data,goldlog.lver="6.8.8",goldlog.getCookie=getCookie,goldlog.tryToGetAttribute=tryToGetAttribute,goldlog.tryToGetHref=tryToGetHref,goldlog.isNumber=isNumber,goldlog.nameStorage=nameStorage,goldlog.launch=function(e,t){if(!win[_launch]||t){win[_launch]=s_true;var n,a,r,o,i=getExParams(),s=1==waitingMeta,c=tblog_data.slice(0);e&&e.isWait&&s?(r=7,delete e.isWait):s?r=8:s||(r=5);for(n in e)e.hasOwnProperty(n)&&(a=e[n])&&c.push([n,a]);var l=makeCacheNum();if(m_log.updateKey(c,"cache",l),c.push(["isbeta",r]),t||c.push([mkPlainKeyForExparams(),i]),ifAdd(c,[["urlokey",loc_hash],["aunbid",cookie_unb]]),t){c.push([s_plain_obj,t.gokey]),m_log.updateSPMCnt(c,t.page_id),m_log.updateSPMUrl(c),o=t.page_id;var u=goldlog.spm_ab?goldlog.spm_ab[1]:"";u&&(u=o?u.split("/")[0]+"/"+o:u.split("/")[0],spm_ab=goldlog.spm_ab[0]+"."+u,goldlog.spm_ab[1]=u)}page_url!=location.href&&(page_referrer=page_url,page_url=location.href),t&&t.referrer&&(page_referrer=t.referrer),page_referrer&&m_log.updateKey(c,"pre",page_referrer),goldlog.req=win.g_aplus_pv_req=tblogSend(tblog_beacon_url,c)}},goldlog.send=function(e,t){var n,a=new Image,r="_img_"+Math.random(),o=e.indexOf("?")==-1?"?":"&",i=t?isArray(t)?arr2param(t):obj2param(t):"";return win[r]=a,a.onload=a.onerror=function(){win[r]=null},a.src=n=i?e+o+i:e,a=null,n};var isSingleSendLog=function(e){return!(!isWindVane||"function"!=typeof WindVane.call||!windvaneParams.isSingleSendLog(e))};goldlog.record=function(e,t,n,a){a=arguments[3]||"";var r,o,i="?",s=s_false,c="//wgo.mmstat.com/",l="//wgm.mmstat.com/",u=makeCacheNum(),p="",d=(spm_ab||"0.0")+".0.0";if("ac"==e)r="//ac.mmstat.com/1.gif",s=isStartWith(a,"A")&&a.substring(1)==makeChkSum(t);else if(isStartWith(e,"/"))s=isStartWith(a,"H")&&a.substring(1)==makeChkSum(e),r=c+e.substring(1),o=2,p+="&spm-cnt="+d;else if(isEndWith(e,".gif"))r=tblog_beacon_base+e;else{if("aplus"!=e)return s_false;r=l+"mx.gif",o=1}if(!s&&"%"!=a&&makeChkSum(page_url_constant)!=a)return s_false;n=(n||"")+(loc_hash?"&urlokey="+encodeURIComponent(loc_hash):"")+(cookie_unb?"&aunbid="+encodeURIComponent(cookie_unb):""),0===n.indexOf("&")&&(n=n.substr(1)),r+=i+"cache="+u+"&gmkey="+encodeURIComponent(t)+"&gokey="+encodeURIComponent(n)+"&cna="+acookie_cna+"&isbeta="+VERSION+p,o&&(r+="&logtype="+o);var g=isSingleSendLog({logkey:e,gmkey:t,spm_ab:spm_ab}),m={gmkey:t,gokey:n,isbeta:VERSION},f={},_=function(n){var a=isOnePage(),r=a.split("|"),o=r[0],i=r[1]?r[1]:"",s=m;g&&(s._is_g2u_=1);try{s.version="v20160919",s=JSON.stringify(s),"{}"==s&&(s="")}catch(c){s=""}f.functype=windvaneParams.getFunctypeValue({logkey:e,gmkey:t,spm_ab:goldlog.spm_ab}),f.logkey=e,f.logkeyargs=s,f.urlpagename=i,f.url=loc.href,f.cna=acookie_cna||"",f.extendargs="",f.isonepage=o,WindVane.call("WVTBUserTrack","toUT",f,function(){n({isSuccess:!0})},function(e){n({isSuccess:!1,msg:e})},5e3)};return isWindVane&&"function"==typeof WindVane.call&&!/^\/aplus\.99\.(\d)+$/.test(e)&&_(function(e){e&&!e.isSuccess&&tracker.run({isSingleSend:g,userAgent:navigator.userAgent,url:location.href,windVaneData:f})}),g?goldlog.useDebug?f:util.makeUrl(r,m):goldlog.send(r)},goldlog.sendPV=m_log.sendPV,win[s_goldlog]=goldlog,init_getGlobalSPMId(),init_loadScripts(),isWindVane&&init_windVane();var etag=require("./lib/etag");etag.init(acookie_cna),tblogSend=etag.inject(tblogSend,mkPlainKey),function(){var e,t,n=getSPMFromUrl(page_url),a=getSPMFromUrl(page_referrer),r=getCookie("tracknick");getExParams();if(loc_hash&&0===loc_hash.indexOf("#")&&(loc_hash=loc_hash.substr(1)),is_in_iframe&&!atp_inIframeException()||(t=1==waitingMeta?7:VERSION,e=[[mkPlainKey(),"title="+escape(doc.title)],["pre",page_referrer],["cache",makeCacheNum()],["scr",screen.width+"x"+screen.height],["isbeta",t]],acookie_cna&&e.push([mkPlainKey(),"cna="+acookie_cna]),r&&e.push([mkPlainKey(),"nick="+r]),e.push(["spm-cnt",(spm_ab||"0.0")+".0.0"]),ifAdd(e,[["spm-url",n],["spm-pre",a]]),tblog_data=tblog_data.concat(e),7==t?setTimeout(function(){goldlog.launch({isWait:!0})},6e3):(tblog_data.push([mkPlainKeyForExparams(),getExParams()]),ifAdd(tblog_data,[["urlokey",loc_hash],["aunbid",cookie_unb],["jsver",script_name],["lver",goldlog.lver]]),win.g_aplus_pv_req=tblogSend(tblog_beacon_url,tblog_data))),is_in_iframe){getMetaAtpData();var o,i=_atp_beacon_data.on,s="1"==i?"//ac.mmstat.com/y.gif":tblog_beacon_url;"1"!=i&&"2"!=i||!(o=_atp_beacon_data.chksum)||o!==makeChkSum(page_url).toString()||tblogSend(s,tblog_data)}addEventListener(win,"beforeunload",function(){recordValInWindowName()})}()}}(),function(){function e(e){var t,n;try{return t=[].slice.call(e)}catch(a){t=[],n=e.length;for(var r=0;r<n;r++)t.push(e[r]);return t}}function t(e,t){return e&&e.getAttribute?e.getAttribute(t)||"":""}function n(e,t,n){if(e&&e.setAttribute)try{e.setAttribute(t,n)}catch(a){}}function a(e,t){if(e&&e.removeAttribute)try{e.removeAttribute(t)}catch(a){n(e,t,"")}}function r(e,t){return 0==e.indexOf(t)}function o(e){for(var t=["javascript:","tel:","sms:","mailto:","tmall://"],n=0,a=t.length;n<a;n++)if(r(e,t[n]))return!0}function i(e){return"string"==typeof e}function s(e){return"[object Array]"===Object.prototype.toString.call(e)}function c(e){return"number"==typeof e}function l(e,t){return e.indexOf(t)>=0}function u(e,t){return e.indexOf(t)>-1}function p(e,t){for(var n=0,a=t.length;n<a;n++)if(u(e,t[n]))return he;return be}function d(e){return i(e)?e.replace(/^\s+|\s+$/g,""):""}function g(e){return"undefined"==typeof e}function m(e,t){var n=t||"";if(e)try{n=decodeURIComponent(e)}catch(a){}return n}function f(){return ue=ue||fe.getElementsByTagName("head")[0],pe||(ue?pe=ue.getElementsByTagName("meta"):[])}function _(e,t){var n,a,r=e.split(";"),o=r.length;for(n=0;n<o;n++)a=r[n].split("="),t[d(a[0])||je]=m(d(a.slice(1).join("=")))}function h(){var e,n,a,r,o=f();for(e=0,n=o.length;e<n;e++)a=o[e],r=t(a,"name"),r==Be&&(de=t(a,Ge))}function b(e){var n,a,o,i,s,c,l=f();if(l)for(n=0,a=l.length;n<a;n++)if(i=l[n],s=t(i,"name"),s==e)return se=t(i,"content"),se.indexOf(":")>=0&&(o=se.split(":"),de="i"==o[0]?"i":"u",se=o[1]),c=t(i,Ge),c&&(de="i"==c?"i":"u"),ce=r(se,"110"),ie=ce?Re:se,he;return be}function v(){var e,n,a,r=f(),o=r.length;for(e=0;e<o;e++)if(n=r[e],"aplus-touch"==t(n,"name")){a=t(n,"content");break}return a}function y(){return Math.floor(268435456*Math.random()).toString(16)}function k(e){var t,n,a=[];for(t in e)e.hasOwnProperty(t)&&(n=""+e[t],a.push(r(t,je)?n:t+"="+encodeURIComponent(n)));return a.join("&")}function E(e){var t,n,a,o=[],i=e.length;for(a=0;a<i;a++)t=e[a][0],n=e[a][1],o.push(r(t,je)?n:t+"="+encodeURIComponent(n));return o.join("&")}function w(e){var t;try{t=d(e.getAttribute("href",2))}catch(n){}return t||""}function P(e,t,n){return"tap"==t?void S(e,n):void e[Le]((xe?"on":"")+t,function(e){e=e||me.event;var t=e.target||e.srcElement;n(t)},be)}function S(e,t){var n="ontouchend"in document.createElement("div"),a=n?"touchstart":"mousedown",r=me.KISSY;r&&r.__touchModAdded&&r.one&&n?r.one(e).on("tap",function(e){t&&t(e.target)}):P(e,a,function(e){t&&t(e)})}function A(e){var t=me.KISSY;t?t.ready(e):me.jQuery?jQuery(fe).ready(e):"complete"===fe.readyState?e():P(me,"load",e)}function T(e,t){var n,a=new Image,r="_img_"+Math.random(),o=e.indexOf("?")==-1?"?":"&",i=t?s(t)?E(t):k(t):"";return me[r]=a,a.onload=a.onerror=function(){me[r]=null},a.src=n=i?e+o+i:e,a=null,n}function M(){var e;if(Me&&!Ye&&(e=ve.match(/^[^?]+\?[^?]*spm=([^&#?]+)/),e&&(Ye=e[1]+"_")),!g(ie))return ie;if(me._SPM_a&&me._SPM_b)return re=me._SPM_a.replace(/^{(\w+)}$/g,"$1"),oe=me._SPM_b.replace(/^{(\w+)}$/g,"$1"),Fe=he,ie=re+"."+oe,h(),ie;if(b(Be)||b("spm-id"),!ie)return Ce=!0,ie=Re,Re;var n,a,r=fe.getElementsByTagName("body");return r=r&&r.length?r[0]:null,r&&(n=t(r,Be),n&&(a=ie.split("."),ie=a[0]+"."+n)),u(ie,".")||(Ce=!0,ie=Re),ie}function O(e){var t,n,a,r,o,i,s=fe.getElementsByTagName("*");for(t=[];e&&1==e.nodeType;e=e.parentNode)if(i=e.id){for(r=0,n=0;n<s.length;n++)if(o=s[n],o.id==i){r++;break}if(t.unshift(e.tagName.toLowerCase()+'[@id="'+i+'"]'),1==r)return t.unshift("/"),t.join("/")}else{for(n=1,a=e.previousSibling;a;a=a.previousSibling)a.tagName==e.tagName&&n++;t.unshift(e.tagName.toLowerCase()+"["+n+"]")}return t.length?"/"+t.join("/"):null}function R(e){var t=De[O(e)];return t?t.spmc:""}function C(n,a){var r,o,i,s,c,l,u,p,d,g=[];for(r=e(n.getElementsByTagName("a")),o=e(n.getElementsByTagName("area")),s=r.concat(o),u=0,p=s.length;u<p;u++){for(l=!1,c=i=s[u];(c=c.parentNode)&&c!=n;)if(t(c,Be)){l=!0;break}l||(d=t(i,Xe),a||"t"==d?a&&"t"==d&&g.push(i):g.push(i))}return g}function j(e,n,a,o){var s,u,p,d,g,m,f,_,h,b,v,y,k,E,P;if(t(e,"data-spm-delay"))return void e.setAttribute("data-spm-delay","");if(n=n||e.getAttribute(Be)||"",n&&(s=C(e,o),0!==s.length)){if(p=n.split("."),k=r(n,"110")&&3==p.length,k&&(E=p[2],p[2]="w"+(E||"0"),n=p.join(".")),i(h=M())&&h.match(/^[\w\-\*]+(\.[\w\-\*\/]+)?$/))if(l(n,".")){if(!r(n,h)){for(d=h.split("."),p=n.split("."),v=0,b=d.length;v<b;v++)p[v]=d[v];n=p.join(".")}}else l(h,".")||(h+=".0"),n=h+"."+n;if(n.match&&n.match(/^[\w\-\*]+\.[\w\-\*\/]+\.[\w\-\*\/]+$/)){var S=o?qe:He;for(P=parseInt(t(e,S))||0,y=0,g=P,b=s.length;y<b;y++)u=s[y],m=w(u),(o||m)&&(k&&u.setAttribute(ze,E),(f=u.getAttribute(Qe))?F(u,f,a):(g++,_=U(u)||g,o&&(_="at"+((c(_)?1e3:"")+_)),f=n+"."+_,F(u,f,a)));e.setAttribute(S,g)}}}function I(e){var t,n=["mclick.simba.taobao.com","click.simba.taobao.com","click.tanx.com","click.mz.simba.taobao.com","click.tz.simba.taobao.com","redirect.simba.taobao.com","rdstat.tanx.com","stat.simba.taobao.com","s.click.taobao.com"],a=n.length;for(t=0;t<a;t++)if(e.indexOf(n[t])!=-1)return!0;return!1}function N(e){return e?!!e.match(/^[^\?]*\balipay\.(?:com|net)\b/i):be}function x(e){return e?!!e.match(/^[^\?]*\balipay\.(?:com|net)\/.*\?.*\bsign=.*/i):be}function V(e){for(var n;(e=e.parentNode)&&e.tagName!=Ne;)if(n=t(e,Ge))return n;return""}function W(e,t){if(e&&/&?\bspm=[^&#]*/.test(e)&&(e=e.replace(/&?\bspm=[^&#]*/g,"").replace(/&{2,}/g,"&").replace(/\?&/,"?").replace(/\?$/,"")),!t)return e;var n,a,r,o,i,s,c,l="&";if(e.indexOf("#")!=-1&&(r=e.split("#"),e=r.shift(),a=r.join("#")),o=e.split("?"),i=o.length-1,r=o[0].split("//"),r=r[r.length-1].split("/"),s=r.length>1?r.pop():"",i>0&&(n=o.pop(),e=o.join("?")),n&&i>1&&n.indexOf("&")==-1&&n.indexOf("%")!=-1&&(l="%26"),e=e+"?spm="+Ye+t+(n?l+n:"")+(a?"#"+a:""),c=u(s,".")?s.split(".").pop().toLowerCase():""){if({png:1,jpg:1,jpeg:1,gif:1,bmp:1,swf:1}.hasOwnProperty(c))return 0;!n&&i<=1&&(a||{htm:1,html:1,php:1}.hasOwnProperty(c)||(e+="&file="+s))}return e}function L(e){return e&&ve.split("#")[0]==e.split("#")[0]}function F(e,n,a){e.setAttribute(Qe,n);var i=w(e),s="i"==(t(e,Ge)||V(e)||de),c=Ae+"tbspm.1.1?logtype=2&spm=";i&&!I(i)&&(!s&&(r(i,"#")||L(i)||o(i.toLowerCase())||N(i)||x(i))||(s?(c+=n+"&url="+encodeURIComponent(i)+"&cache="+y(),ge==e&&T(c)):a||(i=W(i,n))&&D(e,i)))}function D(e,t){var n,a=e.innerHTML;a&&a.indexOf("<")==-1&&(n=fe.createElement("b"),n.style.display="none",e.appendChild(n)),e.href=t,n&&e.removeChild(n)}function U(e){var n,a,r;return Ce?n="0":Fe?(a=O(e),r=De[a],r&&(n=r.spmd)):(n=t(e,Be),n&&n.match(/^d\w+$/)||(n="")),n}function B(e){for(var t,n,a=e;e&&e.tagName!=Ie&&e.tagName!=Ne&&e.getAttribute;){if(n=Fe?R(e):e.getAttribute(Be)){t=n,a=e;break}if(!(e=e.parentNode))break}return t&&!/^[\w\-\.\/]+$/.test(t)&&(t="0"),{spm_c:t,el:a}}function G(e){var t;return e&&(t=e.match(/&?\bspm=([^&#]*)/))?t[1]:""}function K(e,t){var n=w(e),a=G(n),r=null,o=ie&&2==ie.split(".").length;return o?(r=[ie,0,U(e)||0],void F(e,r.join("."),t)):void(n&&a&&(n=n.replace(/&?\bspm=[^&#]*/g,"").replace(/&{2,}/g,"&").replace(/\?&/,"?").replace(/\?$/,"").replace(/\?#/,"#"),D(e,n)))}function $(e,n){ge=e;var a,r,o=t(e,Qe);if(o)F(e,o,n);else{if(a=B(e.parentNode),r=a.spm_c,!r)return void K(e,n);Ce&&(r="0"),j(a.el,r,n),j(a.el,r,n,!0)}}function X(t){if(t&&1==t.nodeType){a(t,He),a(t,qe);var n,r=e(t.getElementsByTagName("a")),o=e(t.getElementsByTagName("area")),i=r.concat(o),s=i.length;for(n=0;n<s;n++)a(i[n],Qe)}}function H(e){var t=e.parentNode;if(!t)return"";var n=e.getAttribute(Be),a=B(t),r=a.spm_c||0;r&&r.indexOf(".")!=-1&&(r=r.split("."),r=r[r.length-1]);var o=ie+"."+r,i=Oe[o]||0;return i++,Oe[o]=i,n=n||i,o+".i"+n}function q(e){var n,a=e.tagName;return le=me.g_aplus_pv_id,"A"!=a&&"AREA"!=a?n=H(e):($(e,he),n=t(e,Qe)),n=(n||"0.0.0.0").split("."),{a:n[0],b:n[1],c:n[2],d:n[3]}}function Y(e){var t=q(e);return t.a+"."+t.b+"."+t.c+"."+t.d}function z(){if(!Ue){if(!me.spmData)return void(Te||setTimeout(arguments.callee,100));Ue=he;var e,t,n,a,r=me.spmData.data;if(r&&s(r))for(e=0,t=r.length;e<t;e++)n=r[e],a=n.xpath,De[a]={spmc:n.spmc,spmd:n.spmd}}}function Q(){var e,n,a,r,o=fe.getElementsByTagName("iframe"),i=o.length;for(n=0;n<i;n++)e=o[n],!e.src&&(a=t(e,Ke))&&(r=q(e),r?(r=[r.a,r.b,r.c,r.d,r.e].join("."),e.src=W(a,r)):e.src=a)}function J(){function e(){t++,t>10&&(n=3e3),Q(),setTimeout(e,n)}var t=0,n=500;e()}function Z(e){return!(!me.goldlog||"function"!=typeof me.goldlog.call||!Se.isSingleSendLog(e))}function ee(e,t){var n,a,o,i="gostr",s="locaid",c="gmkey",l={};if(_(t,l),n=l[i],a=l[s],o=l[c],n&&a){r(n,"/")&&(n=n.substr(1));var u,p=q(e),d=[p.a,p.b,p.c,a].join("."),g=n+"."+d,m=["logtype=2","cache="+Math.random(),"autosend=1"];for(u in l)l.hasOwnProperty(u)&&u!=i&&u!=s&&m.push(u+"="+l[u]);m.length>0&&(g+="?"+m.join("&"));var f,h={gmkey:o,gokey:m.length>0?m.join("&"):""},b=Z({logkey:n,gmkey:o,spm_ab:goldlog.spm_ab}),v=function(e){b&&(h._is_g2u_=1),h.version="v20160919";try{h=JSON.stringify(h),"{}"==h&&(h="")}catch(t){h=""}f.functype=Se.getFunctypeValue({logkey:n,gmkey:o,spm_ab:goldlog.spm_ab}),f.logkey="/"+n+"."+d,f.logkeyargs=h,f.extendargs="",delete f.spmcnt,delete f.spmpre,delete f.lzsid,me.goldlog.call("WVTBUserTrack","toUT",f,function(){e({isSuccess:!0})},function(t){e({isSuccess:!1,msg:t})},5e3)},y=function(){T(Ae+g),e.setAttribute(Qe,d)};me.goldlog&&me.goldlog.call&&(f=me.goldlog.windVaneData)&&!/^\/aplus\.99\.(\d)+$/.test(logkey)&&v(function(e){e&&!e.isSuccess&&Ze.run({isSingleSend:b,userAgent:navigator.userAgent,url:location.href,windVaneData:f})}),b||y()}}function te(e){for(var n;e&&e.tagName!=Ie;){n=t(e,$e);{if(n){ee(e,n);break}e=e.parentNode}}}function ne(){Ee?P(fe,"tap",te):P(fe,"mousedown",te)}function ae(e){for(var t;e&&(t=e.tagName);){if("A"==t||"AREA"==t){$(e,be);break}if(t==Ne||t==Ie)break;e=e.parentNode}}var re,oe,ie,se,ce,le,ue,pe,de,ge,me=window,fe=document,_e=location,he=!0,be=!1,ve=_e.href,ye=_e.protocol,ke="https:"==ye,Ee=v(),we=ke?"https:":"http:",Pe=require("./lib/personality/index.js"),Se=Pe.windvaneParams,Ae=we+"//wgo.mmstat.com/",Te=be,Me=parent!==self,Oe={},Re="0.0",Ce=!1,je="::-plain-::",Ie="HTML",Ne="BODY",xe=!!fe.attachEvent,Ve="attachEvent",We="addEventListener",Le=xe?Ve:We,Fe=be,De={},Ue=be,Be="data-spm",Ge="data-spm-protocol",Ke="data-spm-src",$e="data-spm-click",Xe="data-auto-spmd",He="data-spm-max-idx",qe="data-auto-spmd-max-idx",Ye="",ze="data-spm-wangpu-module-id",Qe="data-spm-anchor-id",Je=require("./lib/monitor/tracker.js"),Ze=new Je({ratio:5,logkey:"/aplus.99.4",chksum:"H46747616"});p(ve,["xiaobai.com","admin.taobao.org"])||(A(function(){Te=he}),M(),z(),J(),ne(),Ee?P(fe,"tap",ae):(P(fe,"mousedown",ae),P(fe,"keydown",ae)),me.g_SPM={resetModule:X,anchorBeacon:$,getParam:q,spm:Y})}(),function(){function e(e,t,n){e[E]((v?"on":"")+t,function(e){e=e||l.event;var t=e.target||e.srcElement;n(e,t)},!1)}function t(){return/&?\bspm=[^&#]*/.test(location.href)?location.href.match(/&?\bspm=[^&#]*/gi)[0].split("=")[1]:""}function n(e,t){if(e&&/&?\bspm=[^&#]*/.test(e)&&(e=e.replace(/&?\bspm=[^&#]*/g,"").replace(/&{2,}/g,"&").replace(/\?&/,"?").replace(/\?$/,"")),!t)return e;var n,a,r,o,i,s,c,l="&";if(e.indexOf("#")!=-1&&(r=e.split("#"),e=r.shift(),a=r.join("#")),o=e.split("?"),i=o.length-1,r=o[0].split("//"),r=r[r.length-1].split("/"),s=r.length>1?r.pop():"",i>0&&(n=o.pop(),e=o.join("?")),n&&i>1&&n.indexOf("&")==-1&&n.indexOf("%")!=-1&&(l="%26"),e=e+"?spm="+t+(n?l+n:"")+(a?"#"+a:""),c=s.indexOf(".")>-1?s.split(".").pop().toLowerCase():""){if({png:1,jpg:1,jpeg:1,gif:1,bmp:1,swf:1}.hasOwnProperty(c))return 0;!n&&i<=1&&(a||{htm:1,html:1,php:1}.hasOwnProperty(c)||(e+="&file="+s))}return e}function a(e){function t(e){return e=e.replace(/refpos[=(%3D)]\w*/gi,s).replace(o,"%3D"+a+"%26"+r.replace("=","%3D")).replace(i,a),r.length>0&&(e+="&"+r),e}var n=window.location.href,a=n.match(/mm_\d{0,24}_\d{0,24}_\d{0,24}/i),r=n.match(/[&\?](pvid=[^&]*)/i),o=new RegExp("%3Dmm_\\d+_\\d+_\\d+","ig"),i=new RegExp("mm_\\d+_\\d+_\\d+","ig");r=r&&r[1]?r[1]:"";var s=n.match(/(refpos=(\d{0,24}_\d{0,24}_\d{0,24})?(,[a-z]+)?)(,[a-z]+)?/i);return s=s&&s[0]?s[0]:"",a?(a=a[0],t(e)):e}function r(t){var n=l.KISSY;n?n.ready(t):l.jQuery?jQuery(u).ready(t):"complete"===u.readyState?t():e(l,"load",t)}function o(e,t){return e&&e.getAttribute?e.getAttribute(t)||"":""}function i(e){if(e){var t,n=b.length;for(t=0;t<n;t++)if(e.indexOf(b[t])>-1)return!0;return!1}}function s(e,t){if(e&&/&?\bspm=[^&#]*/.test(e)&&(e=e.replace(/&?\bspm=[^&#]*/g,"").replace(/&{2,}/g,"&").replace(/\?&/,"?").replace(/\?$/,"")),!t)return e;var n,a,r,o,i,s,c,l="&";if(e.indexOf("#")!=-1&&(r=e.split("#"),e=r.shift(),a=r.join("#")),o=e.split("?"),i=o.length-1,r=o[0].split("//"),r=r[r.length-1].split("/"),
s=r.length>1?r.pop():"",i>0&&(n=o.pop(),e=o.join("?")),n&&i>1&&n.indexOf("&")==-1&&n.indexOf("%")!=-1&&(l="%26"),e=e+"?spm="+t+(n?l+n:"")+(a?"#"+a:""),c=s.indexOf(".")>-1?s.split(".").pop().toLowerCase():""){if({png:1,jpg:1,jpeg:1,gif:1,bmp:1,swf:1}.hasOwnProperty(c))return 0;!n&&i<=1&&(a||{htm:1,html:1,php:1}.hasOwnProperty(c)||(e+="&__file="+s))}return e}function c(e){if(i(e.href)){var n=o(e,h);if(!n){if(!m)return;var a=m(e),r=[a.a,a.b,a.c,a.d,a.e].join(".");f&&(r=[a.a||"0",a.b||"0",a.c||"0",a.d||"0"].join("."),r=(t()||"0.0.0.0.0")+"_"+r);var c=s(e.href,r);e.href=c,e.setAttribute(h,r)}}e=void 0}var l=window,u=document,p=location,d=(p.href,l._alimm_spmact_on_);if("undefined"==typeof d&&(d=1),1==d&&(d=1),0==d&&(d=0),d){var g=function(){return{a:0,b:0,c:0,d:0,e:0}},m=l.g_SPM&&l.g_SPM.getParam?l.g_SPM.getParam:g,f=!0;try{f=self.location!=top.location}catch(_){}var h="data-spm-act-id",b=["mclick.simba.taobao.com","click.simba.taobao.com","click.tanx.com","click.mz.simba.taobao.com","click.tz.simba.taobao.com","redirect.simba.taobao.com","rdstat.tanx.com","stat.simba.taobao.com","s.click.taobao.com"],v=!!u.attachEvent,y="attachEvent",k="addEventListener",E=v?y:k;e(u,"mousedown",function(e,t){for(var n,a=0;t&&(n=t.tagName)&&a<5;){if("A"==n||"AREA"==n){c(t);break}if("BODY"==n||"HTML"==n)break;t=t.parentNode,a++}}),r(function(){for(var e,r,i=document.getElementsByTagName("iframe"),s=0;s<i.length;s++){e=o(i[s],"mmsrc"),r=o(i[s],"mmworked");var c=m(i[s]),l=[c.a||"0",c.b||"0",c.c||"0",c.d||"0",c.e||"0"].join(".");e&&!r?(f&&(l=[c.a||"0",c.b||"0",c.c||"0",c.d||"0"].join("."),l=t()+"_"+l),i[s].src=n(a(e),l),i[s].setAttribute("mmworked","mmworked")):i[s].setAttribute(h,l)}})}}()},{"./lib/etag":2,"./lib/log":3,"./lib/monitor/tracker.js":4,"./lib/personality/index.js":5,"./lib/util":9}],2:[function(e,t,n){function a(e,t){var n=new Date;n.setTime(n.getTime()+31536e7),t+="; expires="+n.toUTCString(),t+="; domain="+o.getDomain(location.hostname),t+="; path=/",i.cookie=e+"="+t}function r(e,t){function n(e){a.onreadystatechange=a.onload=a.onerror=null,a=null,t(e)}var a=i.createElement("script");if(a.async=!0,"onload"in a)a.onload=n;else{var r=function(){/loaded|complete/.test(a.readyState)&&n()};a.onreadystatechange=r,r()}a.onerror=function(){n(1)},a.src=e,s.appendChild(a)}var o=e("./tld"),i=document,s=i.head||i.getElementsByTagName("head")[0],c=0,l=-1,u="",p=!1;t.exports={init:function(e){if(e)return void(c=1);var t=null;p=!0,r("https://log.mmstat.com/eg.js",function(e){e&&(l=-3),p&&(p=!1,goldlog.Etag&&(u=goldlog.Etag,a("cna",u)),"undefined"!=typeof goldlog.stag&&(l=goldlog.stag),clearTimeout(t))}),t=setTimeout(function(){p=!1,l=-2},1e3)},inject:function(e,t){var n=function(a,r,o){return r?!c&&p?(setTimeout(function(){n(a,r,o)},50),a):(r.push(["tag",c]),r.push(["stag",l]),!c&&u&&r.unshift([t(),"cna="+u]),e(a,r,o)):a};return n}}},{"./tld":8}],3:[function(e,t,n){"use strict";function a(e){e=e||l.getMetaCnt("aplus-ajax");var t=goldlog.spm_ab;return!(!t||l.makeChkSum([t[0],(t[1]||"").split("/")[0]].join("."))!=e)||l.makeChkSum(location.href.split("#")[0].split("?")[0])==e}function r(e,t,n){s(e,"spm-cnt",function(e){var a=e.split(".");return a[0]=goldlog.spm_ab[0],a[1]=goldlog.spm_ab[1],t?a[1]=a[1].split("/")[0]+"/"+t:a[1]=a[1].split("/")[0],n&&(a[4]=n),a.join(".")})}function o(e,t){var n=window.g_SPM&&g_SPM._current_spm;return n?void s(e,"spm-url",function(){return[n.a,n.b,n.c,n.d].join(".")+(t?"."+t:"")},"spm-cnt"):void i(e,"spm-url")}function i(e,t){var n,a,r,o=-1;for(n=0,a=e.length;n<a;n++)if(r=e[n],r[0]===t){o=n;break}o>=0&&e.splice(o,1)}function s(e,t,n,a){var r,o,i=e.length,s=-1,c="function"==typeof n;for(r=0;r<i;r++){if(o=e[r],o[0]===t)return void(c?o[1]=n(o[1]):o[1]=n);a&&o[0]===a&&(s=r)}a&&(c&&(n=n()),s>-1?e.splice(s,0,[t,n]):e.push([t,n]))}function c(e){return!!a(e.checksum)&&void goldlog.launch({},e||{})}var l=e("./util");t.exports={sendPV:c,checkIfSendPV:a,updateSPMCnt:r,updateSPMUrl:o,updateKey:s,removeKey:i}},{"./util":9}],4:[function(e,t,n){"use strict";var a={ratio:10,logkey:"/aplus.99.3",gmkey:"",chksum:"H46747615"},r=function(e){e&&"object"==typeof e||(e=a),this.opts=e,this.opts.ratio=e.ratio||a.ratio,this.opts.logkey=e.logkey||a.logkey,this.opts.gmkey=e.gmkey||a.gmkey,this.opts.chksum=e.chksum||a.chksum},o=r.prototype;o.getRandom=function(){return Math.floor(100*Math.random())+1},o.run=function(e){var t,n,a;try{t=this.opts,a=this.getRandom(),"object"==typeof e?(e.lver=goldlog.lver,n=JSON.stringify(e)):(e+="&lver="+goldlog.lver,n=e)}catch(r){n+="&trackerJsError="+r.message}finally{try{goldlog&&"function"==typeof goldlog.record&&a<=t.ratio&&goldlog.record(t.logkey,t.gmkey,n,t.chksum)}catch(o){}}},t.exports=r},{}],5:[function(e,t,n){"use strict";n.windvaneParams=e("./windvaneParams.js"),n.wp_beacon=e("./wp_beacon.js")},{"./windvaneParams.js":6,"./wp_beacon.js":7}],6:[function(e,t,n){"use strict";var a=function(e){var t=e.logkey.toLowerCase();0===t.indexOf("/")&&(t=t.substr(1));var n=e.gmkey.toUpperCase();switch(n){case"EXP":return"2201";case"CLK":return"2101";case"SLD":return"19999";case"OTHER":default:return"19999"}},r=function(){for(var e=navigator.userAgent,t=[{matchValue:"5.11.7",matchRule:e.match(/AliApp\(TB\/(\d+[._]\d+[._]\d+)/i)},{matchValue:"5.24.1",matchRule:e.match(/AliApp\(TM\/(\d+[._]\d+[._]\d+)/i)}],n=0;n<t.length;n++){var a=t[n].matchRule,r=t[n].matchValue;if(a&&2===a.length&&a[1]>=r)return!0}return!1};n.isSingleSendLog=function(e){return(!e||!/^\/aplus\.99\.(\d)+$/.test(e.logkey))&&!!(e&&e.logkey&&e.gmkey&&r()===!0)},n.getFunctypeValue=function(e){return n.isSingleSendLog(e)?a(e):"2101"}},{}],7:[function(e,t,n){"use strict";var a=e("../util"),r=window,o=document;n.init=function(){function e(e){for(var t;e&&"BODY"!=e.tagName&&!(t=a.tryToGetAttribute(e,"microscope-data"));)e=e.parentNode;return t||""}function t(e){var t,n,a,r,i,s,c=o.getElementsByTagName("*");for(t=[];e&&1==e.nodeType;e=e.parentNode)if(s=e.getAttribute("id")){for(r=0,n=0;n<c.length;n++)if(i=c[n],i.id==s){r++;break}if(t.unshift(e.tagName.toLowerCase()+'[@id="'+s+'"]'),1==r)return t.unshift("/"),t.join("/")}else{for(n=1,a=e.previousSibling;a;a=a.previousSibling)a.tagName==e.tagName&&n++;t.unshift(e.tagName.toLowerCase()+"["+n+"]")}return t.length?"/"+t.join("/"):null}function n(){var e="BackCompat"==o.compatMode?o.body:o.documentElement,t=Math.max(e.scrollWidth,e.clientWidth),n=Math.max(e.scrollHeight,e.clientHeight);return[t,n,e.scrollTop,e.scrollLeft]}function i(e,t){var r=n(),o=r[0],i=r[1],s=r[2],c=r[3],l=t.pageX,u=t.pageY;a.isNumber(l)||(l=t.clientX+c,u=t.clientY+s);var p,d,g=-1;e&&e.getBoundingClientRect&&(d=e.getBoundingClientRect(),g=d.left+c,p=d.top+s);var m,f=o>>1;return l-=f,g-=f,m=a.isNumber(p)?[["elx",g],["ely",p],["elw",e.offsetWidth],["elh",e.offsetHeight]]:[],m.concat([["docw",o],["doch",i],["x",l],["y",u]]),m}function s(e){for(;e&&e.tagName&&"BODY"!=e.tagName;){if("4111"==a.tryToGetAttribute(e,"data-componentid"))return w;e=e.parentNode}return P}function c(n,r){var c,p,d,g,m,f,_,h,b=0,k=s(n),w=e(n),P=0,M=[];if(w&&(k||"1"==E||"4"==E)){for(M.push(["xpath",t(n)]);n&&n!=o&&(f=n.tagName,f&&"HTML"!=f&&(b=1),g||"A"!=f&&"AREA"!=f&&"IMG"!=f&&"BUTTON"!=f&&"INPUT"!=f&&"TEXTAREA"!=f||(g=n,P=1),"A"!=f&&"AREA"!=f||(m=n,c=a.tryToGetHref(n)),(h=a.tryToGetAttribute(n,"data-widgetid"))&&M.push(["widgetid",h]),(h=a.tryToGetAttribute(n,"data-componentid"))&&M.push(["componentid",h]),p=n.parentNode);)n=p;b&&P&&(c&&M.push(["href",c]),P&&(M.push(["udp_wm_valid_hit",1]),_=i(g,r),M.concat(_),S++,M.push(["cc",S]),d=(new Date).getTime(),M.push(["t",d-A]),M.push(["t2",d-T]),T=d,M.push(["udp_wm_type",1]),M.push(["page_id",u.pageId||""]),M.push(["shop_id",u.shopId||""]),M.push(["site_instance_id",u.siteInstanceId||""]),M.push(["page_prototypeId",E]),M.push(["siteCategory",u.siteCategory||""]),M.push(["moduleId",w]),"2"!=E&&l(v,M),k&&l(y,M)))}}function l(e,t){var n=t.concat(d);p.send(e,n)}var u,p=r.goldlog,d=[["sw",r.screen.width],["sh",r.screen.height]],g=location,m=g.protocol,f="https:"==m,_=f?m:"http:",h=_+(f?"//log":"//ga")+".mmstat.com/",b=_+(f?"//log":"//go")+".mmstat.com/",v=h+"ued.1.1.1?logtype=6",y=b+"ued.1.1.5?logtype=5";try{u=p._$.meta_info._microscope_data||{}}catch(k){u={}}var E=u.prototypeId||"",w=!0,P=!1,S=0,A=(new Date).getTime(),T=A;"1"!=E&&"2"!=E&&"4"!=E||a.on(o,"mousedown",function(e,t){t&&c(t,e)})}},{"../util":9}],8:[function(e,t,n){"use strict";function a(e){var t,n=e.split("."),a=n.length;return t=r.any(o,function(t){return r.isEndWith(e,t)})?n.slice(a-3):n.slice(a-2),t.join(".")}var r=e("./util"),o=[".com.cn",".net.cn"];n.getDomain=a},{"./util":9}],9:[function(e,t,n){"use strict";function a(e,t){return e&&e.getAttribute?e.getAttribute(t)||"":""}function r(e,t,n){if(e&&e.setAttribute)try{e.setAttribute(t,n)}catch(a){}}function o(e,t){if(e&&e.removeAttribute)try{e.removeAttribute(t)}catch(n){r(e,t,"")}}function i(e){var t,n;try{return t=[].slice.call(e)}catch(a){t=[],n=e.length;for(var r=0;r<n;r++)t.push(e[r]);return t}}function s(e){return O=O||C.getElementsByTagName("head")[0],R&&!e?R:O?R=O.getElementsByTagName("meta"):[]}function c(e){var t,n,r,o=s(),i=o.length;for(t=0;t<i;t++)n=o[t],a(n,"name")===e&&(r=a(n,"content"));return r||""}function l(e){e=(e||"").split("#")[0].split("?")[0];var t=e.length,n=function(e){var t,n=e.length,a=0;for(t=0;t<n;t++)a=31*a+e.charCodeAt(t);return a};return t?n(t+"#"+e.charCodeAt(t-1)):-1}function u(e,t){return e.indexOf(t)>-1}function p(e,t){return 0===e.indexOf(t)}function d(e,t){var n=e.length,a=t.length;return n>=a&&e.indexOf(t)==n-a}function g(e){return"function"==typeof e}function m(e){return"[object Array]"===Object.prototype.toString.call(e)}function f(e){return"string"==typeof e}function _(e){return"undefined"==typeof e}function h(e){return"string"==typeof e?e.replace(/^\s+|\s+$/g,""):""}function b(e,t){var n=e.indexOf("?")==-1?"?":"&",a=t?m(t)?v(t):k(t):"";return a?e+n+a:e}function v(e){var t,n,a,r=[],o=e.length;for(a=0;a<o;a++)t=e[a][0],n=e[a][1],r.push(p(t,I)?n:t+"="+encodeURIComponent(n));return r.join("&")}function y(e){var t,n,a,r={},o=e.length;for(a=0;a<o;a++)t=e[a][0],n=e[a][1],r[t]=n;return r}function k(e){var t,n,a=[];for(t in e)e.hasOwnProperty(t)&&(n=""+e[t],a.push(p(t,I)?n:t+"="+encodeURIComponent(n)));return a.join("&")}function E(e){for(var t=e.split("&"),n=0,a=t.length,r={};n<a;n++){var o=t[n],i=o.indexOf("="),s=o.substring(0,i),c=o.substring(i+1);r[s]=w(c)}return r}function w(e,t){var n=t||"";if(e)try{n=decodeURIComponent(e)}catch(a){}return n}function P(e,t){t=t||{};var n,a,r=e.split(";"),o=r.length;for(n=0;n<o;n++)a=r[n].split("="),t[h(a[0])||""]=w(h(a.slice(1).join("=")));return t}function S(e,t,n){e[W]((N?"on":"")+t,function(e){e=e||j.event;var t=e.target||e.srcElement;n(e,t)},!1)}function A(e,t){var n="script",a=C.createElement(n);a.type="text/javascript",a.async=!0;var r="https:"==location.protocol?t||e:e;0===r.indexOf("//")&&(r=L+r),a.src=r;var o=C.getElementsByTagName(n)[0];o.parentNode.insertBefore(a,o)}function T(e,t){var n,a=e.length;for(n=0;n<a;n++)t(e[n])}function M(e,t){var n,a=e.length;for(n=0;n<a;n++)if(t(e[n]))return!0;return!1}var O,R,C=document,j=window;n.tryToGetAttribute=a,n.tryToSetAttribute=r,n.tryToRemoveAttribute=o,n.nodeListToArray=i,n.getMetaTags=s,n.getMetaCnt=c,n.makeChkSum=l,n.isContain=u,n.isStartWith=p,n.isEndWith=d,n.isFunction=g,n.isArray=m,n.isString=f,n.isUnDefined=_,n.trim=h,n.rndInt32=function(){return Math.round(2147483647*Math.random())};var I="::-plain-::";n.mkPlainKey=function(){return I+Math.random()},n.s_plain_obj=I,n.makeUrl=b,n.arr2obj=y,n.obj2param=k,n.param2obj=E,n.parseSemicolonContent=P;var N=!!C.attachEvent,x="attachEvent",V="addEventListener",W=N?x:V;n.on=S,n.DOMReady=function(e){var t=j.KISSY;t&&g(t.ready)?t.ready(e):j.jQuery?jQuery(C).ready(e):"complete"===C.readyState?e():S(j,"load",e)},n.onload=function(e){S(j,"load",e)};var L=function(){var e="";return"file:"===location.protocol&&(e="http:"),e}();n.ifAdd=function(e,t){var n,a,r,o,i=t.length;for(n=0;n<i;n++)a=t[n],r=a[0],o=a[1],o&&e.push([r,o])},n.addScript=A,n.each=T,n.any=M,n.tryToGetHref=function(e){var t;try{t=h(e.getAttribute("href",2))}catch(n){}return t||""},n.isNumber=function(e){return"number"==typeof e}},{}]},{},[1]);